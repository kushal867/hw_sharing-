{% extends 'base.html' %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">All Profiles</h2>
  <a href="{% url 'profile_create' %}" class="btn btn-primary"
    >+ Create Profile</a
  >
</div>

<table class="table table-striped table-bordered align-middle">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>User</th>
      <th>Role</th>
      <th>Bio</th>
      <th>Profile Image</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for profile in profiles %}
    <tr>
      <td>{{ profile.id }}</td>
      <td>{{ profile.user.username }}</td>
      <td>{{ profile.role|title }}</td>
      <td>{{ profile.bio|default:"â€”" }}</td>
      <td>
        {% if profile.profile_image %}
        <img
          src="{{ profile.profile_image.url }}"
          alt="Profile"
          width="60"
          height="60"
          class="rounded-circle"
        />
        {% else %}
        <span class="text-muted">No Image</span>
        {% endif %}
      </td>
      <td>
        <a
          href="{% url 'profile_edit' profile.id %}"
          class="btn btn-sm btn-warning"
          >Edit</a
        >
        <a
          href="{% url 'profile_delete' profile.id %}"
          class="btn btn-sm btn-danger"
          onclick="return confirm('Are you sure you want to delete this profile?')"
        >
          Delete
        </a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="6" class="text-center text-muted">No profiles available.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
